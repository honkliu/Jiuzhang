import React, { createContext, useContext, useMemo, useState } from 'react';

export type Language = 'en' | 'zh';

const translations: Record<Language, Record<string, string>> = {
  en: {
    appName: 'KanKan',
    Chats: 'Chats',
    Contacts: 'Contacts',
    Pa: 'Pa',
    Profile: 'Profile',
    Wa: 'Wa',
    'nav.notifications': 'Notifications',
    'nav.unread': 'unread',
    'nav.allCaughtUp': 'All caught up',
    'nav.noNotifications': 'No notifications',
    'nav.logout': 'Logout',
    'nav.collapse': 'Collapse',
    'nav.newChat': 'New Chat',
    'nav.toggleChatList': 'Toggle chat list',
    'nav.chooseMood': 'Choose mood',
    'common.loading': 'Loading...',
    'common.prev': 'Prev',
    'common.next': 'Next',
    'common.cancel': 'Cancel',
    'common.save': 'Save',
    'common.searchUsers': 'Search users by name or handle...',
    'common.noUsersFound': 'No users found',
    'auth.login.title': 'Welcome Back',
    'auth.login.subtitle': 'Sign in to continue to KanKan',
    'auth.login.email': 'Email Address',
    'auth.login.password': 'Password',
    'auth.login.remember': 'Remember me',
    'auth.login.forgot': 'Forgot password?',
    'auth.login.signIn': 'Sign In',
    'auth.login.or': 'OR',
    'auth.login.noAccount': "Don't have an account?",
    'auth.login.create': 'Create one',
    'auth.login.failed': 'Login failed',
    'auth.register.steps.email': 'Enter Email',
    'auth.register.steps.verify': 'Verify & Complete',
    'auth.register.title': 'Create Account',
    'auth.register.sendCode': 'Continue',
    'auth.register.haveAccount': 'Already have an account?',
    'auth.register.verifyInfo': 'Enter the verification code for your domain:',
    'auth.register.code': 'Verification Code',
    'auth.register.displayName': 'Display Name',
    'auth.register.password': 'Password',
    'auth.register.passwordHint': 'Minimum 8 characters',
    'auth.register.confirmPassword': 'Confirm Password',
    'auth.register.create': 'Create Account',
    'auth.register.changeEmail': 'Change Email',
    'auth.register.sendFailed': 'Failed to send verification code',
    'auth.register.verifyFailed': 'Verification failed',
    'auth.register.passwordMismatch': 'Passwords do not match',
    'auth.register.passwordLength': 'Password must be at least 8 characters',
    'auth.register.displayNameLength': 'Display name must be at least 2 characters',
    'auth.forgot.steps.email': 'Enter Email',
    'auth.forgot.steps.reset': 'Reset Password',
    'auth.forgot.title': 'Reset Password',
    'auth.forgot.send': 'Send Reset Code',
    'auth.forgot.remembered': 'Remembered your password?',
    'auth.forgot.codeRequired': 'Please enter the 6-digit code',
    'auth.forgot.resetFailed': 'Password reset failed',
    'auth.forgot.sendFailed': 'Failed to send reset code',
    'auth.forgot.verifyInfo': 'We sent a reset code to',
    'auth.forgot.resetCode': 'Reset Code',
    'auth.forgot.newPassword': 'New Password',
    'auth.forgot.confirmNewPassword': 'Confirm New Password',
    'auth.forgot.reset': 'Reset Password',
    'auth.forgot.changeEmail': 'Change Email',
    'chat.title': 'Chat',
    'chat.search': 'Search chats...',
    'chat.loading': 'Loading chats...',
    'chat.empty': 'No chats yet. Start a new conversation!',
    'chat.emptySearch': 'No chats found',
    'chat.clearConfirm': 'Clear this chat?\n\nThis will hide previous messages. The chat will reappear when a new message arrives.',
    'chat.clearFailed': 'Failed to clear chat. Please try again.',
    'chat.noMessages': 'No messages yet. Say hello! ğŸ‘‹',
    'chat.noMessagesShort': 'No messages yet',
    'chat.you': 'You',
    'chat.online': 'Online',
    'chat.offline': 'Offline',
    'chat.members': 'members',
    'chat.renamePrompt': 'Group name',
    'chat.renameFailed': 'Failed to rename group. Please try again.',
    'chat.renameTitle': 'Rename group',
    'chat.enter3d': 'Enter 3D room',
    'chat.exit3d': 'Exit 3D room',
    'chat.selectPrompt': 'Select a chat to start messaging',
    'chat.selectHint': 'or start a new conversation',
    'chat.sendFileFailed': 'Failed to send file. Please try again.',
    'chat.command.available': 'Available commands:',
    'chat.command.tip': "Tip: commands only work when '/' is the first character.",
    'chat.command.noActive': 'No active (online) participants right now.',
    'chat.command.usage': 'Usage',
    'chat.command.participants': 'Participants',
    'chat.command.activeParticipants': 'Active participants',
    'chat.command.desc.w': 'List real participants in this chat (excluding Wa)',
    'chat.command.desc.wa': 'List active (online) real participants (excluding Wa)',
    'chat.command.desc.h': 'Show command help',
    'chat.command.desc.b': 'Send the rest of your input in bold',
    'chat.command.desc.i': 'Send the rest of your input in italic',
    'chat.command.desc.r': 'Send the rest of your input in red',
    'chat.command.exampleText': 'hello',
    'chat.command.usage.r': 'Usage: /r <text>',
    'chat.command.usage.b': 'Usage: /b <text>',
    'chat.command.usage.i': 'Usage: /i <text>',
    'chat.typing': 'is typing...',
    'chat.attach': 'Attach',
    'chat.typeMessage': 'Type a message...',
    'chat.toggle3d': 'Toggle 3D room',
    'chat.enter2d': 'Enter 2D view',
    'chat.exit2d': 'Exit 2D view',
    'chat.sidebarExpand': 'Expand',
    'chat.clear': 'Clear',
    'chat.new.title': 'New Chat',
    'chat.new.start': 'Start Chat',
    'chat.new.creating': 'Creating...',
    'chat.message.deleted': 'This message was deleted',
    'chat.message.download': 'Download file',
    'chat.message.image': 'Image',
    'chat.message.unread': 'Unread',
    'contacts.title': 'Contacts',
    'contacts.friendRequests': 'Friend Requests',
    'contacts.noRequests': 'No pending requests.',
    'contacts.contacts': 'Contacts',
    'contacts.noContacts': 'No contacts yet.',
    'contacts.discover': 'Discover Users',
    'contacts.noUsers': 'No users found.',
    'contacts.chat': 'Chat',
    'contacts.addFriend': 'Add Friend',
    'contacts.removeFriend': 'Remove',
    'contacts.removeConfirm': 'Remove this friend?',
    'contacts.others': 'Other Users',
    'contacts.friend': 'Friend',
    'contacts.notFriend': 'Not friend',
    'contacts.accept': 'Accept',
    'contacts.reject': 'Reject',
    'contacts.online': 'Online',
    'contacts.enable': 'Enable',
    'contacts.disable': 'Disable',
    'contacts.deleteUser': 'Delete',
    'contacts.disabled': 'Disabled',
    'contacts.deleteUserConfirm': 'Delete user {name}? This cannot be undone.',
    'contacts.toggleDisableConfirm': '{action} user {name}?',
    'chat.new.onlyFriendsDirect': 'Only friends can start direct chats.',
    'chat.new.alwaysAvailable': 'Always available',
    'moments.whatsOnMind': "What's on your mind?",
    'moments.mediaUrls': 'Media URLs (comma separated)',
    'moments.addImages': 'Add images',
    'moments.imagesSelected': 'Images selected:',
    'moments.imagePreview': 'Image preview',
    'moments.image': 'Moment image',
    'moments.post': 'Post',
    'moments.empty': 'No posts yet.',
    'moments.loadFailed': 'Failed to load moments',
    'moments.postFailed': 'Failed to post moment',
    'moments.like': 'Like',
    'moments.comment': 'Comment',
    'moments.addComment': 'Add a comment',
    'moments.send': 'Send',
    'moments.delete': 'Delete',
    'moments.deleteConfirm': 'Delete this post?',
    'moments.deleteFailed': 'Failed to delete moment',
    'moments.likeFailed': 'Failed to update like',
    'moments.commentFailed': 'Failed to add comment',
    'avatar.emotionTitle': 'Emotion Avatars',
    'avatar.promptHelp': 'Prompt help',
    'avatar.promptHelpText': 'expression, high quality. Preserve the original proportions. Do not change gender, if female, change the clothing to more variant seductive and sexy and variant colors, transparent. If animal, keep the species and pose, but change the facial expression according to the prompt. The output image should be in the same style as the input.',
    'avatar.generateAll': 'Generate/Update All',
    'avatar.generatingAll': 'Generating...',
    'avatar.generateOne': 'Generate',
    'avatar.generatingOne': 'Generating...',
    'avatar.extraPromptLabel': 'Extra prompt (optional)',
    'avatar.extraPromptPlaceholder': 'Applies to all emotions',
    'image.editPromptPlaceholder': 'Add a prompt for Pic Edit',
    'image.editAction': 'Pic Edit',
    'image.noEditsYet': 'No edits yet',
    'profile.title': 'Profile',
    'profile.loadFailed': 'Failed to load profile',
    'profile.updateSuccess': 'Profile updated successfully',
    'profile.updateFailed': 'Failed to update profile',
    'profile.avatarUploaded': 'Avatar uploaded. Click Save Changes to apply.',
    'profile.uploadingAvatar': 'Uploading...',
    'profile.uploadFailed': 'Failed to upload avatar',
    'profile.uploadAvatar': 'Upload Avatar',
    'profile.removeAvatar': 'Remove Avatar',
    'profile.zodiacSelected': 'Zodiac avatar selected. Click Save Changes to apply.',
    'profile.displayName': 'Display Name',
    'profile.bio': 'Bio',
    'profile.gender': 'Gender',
    'profile.male': 'Male',
    'profile.female': 'Female',
    'profile.saveChanges': 'Save Changes',
    'profile.zodiacTitle': 'Choose Zodiac Avatar',
    'chat.room.file': 'File',
    'chat.room.image': 'Image',
    'chat.room.sayHi': 'Say hi...',
    'chat.room.me': 'Me',
    'chat.room.friend': 'Friend',
    'chat.room.typing': '...',
    'time.justNow': '1 m. ago',
    'time.minute': 'm. ago',
    'time.hour': 'h. ago',
    'time.day': 'd. ago',
    'time.week': 'w. ago',
    'time.year': 'y. ago',
  },
  zh: {
    appName: 'ä¾ƒä¾ƒ',
    Chats: 'èŠå¤©',
    Contacts: 'è”ç³»äºº',
    Pa: 'å•ª',
    Profile: 'æˆ‘çš„',
    Wa: 'å¨²',
    'nav.notifications': 'é€šçŸ¥',
    'nav.unread': 'æœªè¯»',
    'nav.allCaughtUp': 'å·²å…¨éƒ¨æŸ¥çœ‹',
    'nav.noNotifications': 'æš‚æ— é€šçŸ¥',
    'nav.logout': 'é€€å‡ºç™»å½•',
    'nav.collapse': 'æ”¶èµ·',
    'nav.newChat': 'æ–°èŠå¤©',
    'nav.toggleChatList': 'å±•å¼€/æ”¶èµ·èŠå¤©åˆ—è¡¨',
    'nav.chooseMood': 'é€‰æ‹©å¿ƒæƒ…',
    'common.loading': 'åŠ è½½ä¸­...',
    'common.prev': 'ä¸Šä¸€é¡µ',
    'common.next': 'ä¸‹ä¸€é¡µ',
    'common.cancel': 'å–æ¶ˆ',
    'common.save': 'ä¿å­˜',
    'common.searchUsers': 'æŒ‰å§“åæˆ–è´¦å·æœç´¢ç”¨æˆ·...',
    'common.noUsersFound': 'æœªæ‰¾åˆ°ç”¨æˆ·',
    'auth.login.title': 'æ¬¢è¿å›æ¥',
    'auth.login.subtitle': 'ç™»å½•ä»¥ç»§ç»­ä½¿ç”¨ä¾ƒä¾ƒ',
    'auth.login.email': 'é‚®ç®±åœ°å€',
    'auth.login.password': 'å¯†ç ',
    'auth.login.remember': 'è®°ä½æˆ‘',
    'auth.login.forgot': 'å¿˜è®°å¯†ç ï¼Ÿ',
    'auth.login.signIn': 'ç™»å½•',
    'auth.login.or': 'æˆ–',
    'auth.login.noAccount': 'æ²¡æœ‰è´¦å·ï¼Ÿ',
    'auth.login.create': 'ç«‹å³æ³¨å†Œ',
    'auth.login.failed': 'ç™»å½•å¤±è´¥',
    'auth.register.steps.email': 'å¡«å†™é‚®ç®±',
    'auth.register.steps.verify': 'éªŒè¯å¹¶å®Œæˆ',
    'auth.register.title': 'åˆ›å»ºè´¦å·',
    'auth.register.sendCode': 'ç»§ç»­',
    'auth.register.haveAccount': 'å·²æœ‰è´¦å·ï¼Ÿ',
    'auth.register.verifyInfo': 'è¯·è¾“å…¥åŸŸéªŒè¯ä»£ç ï¼š',
    'auth.register.code': 'éªŒè¯ç ',
    'auth.register.displayName': 'æ˜µç§°',
    'auth.register.password': 'å¯†ç ',
    'auth.register.passwordHint': 'è‡³å°‘ 8 ä¸ªå­—ç¬¦',
    'auth.register.confirmPassword': 'ç¡®è®¤å¯†ç ',
    'auth.register.create': 'åˆ›å»ºè´¦å·',
    'auth.register.changeEmail': 'æ›´æ¢é‚®ç®±',
    'auth.register.sendFailed': 'å‘é€éªŒè¯ç å¤±è´¥',
    'auth.register.verifyFailed': 'éªŒè¯å¤±è´¥',
    'auth.register.passwordMismatch': 'ä¸¤æ¬¡è¾“å…¥çš„å¯†ç ä¸ä¸€è‡´',
    'auth.register.passwordLength': 'å¯†ç è‡³å°‘ 8 ä¸ªå­—ç¬¦',
    'auth.register.displayNameLength': 'æ˜µç§°è‡³å°‘ 2 ä¸ªå­—ç¬¦',
    'auth.forgot.steps.email': 'å¡«å†™é‚®ç®±',
    'auth.forgot.steps.reset': 'é‡ç½®å¯†ç ',
    'auth.forgot.title': 'é‡ç½®å¯†ç ',
    'auth.forgot.send': 'å‘é€é‡ç½®ç ',
    'auth.forgot.remembered': 'æƒ³èµ·å¯†ç äº†ï¼Ÿ',
    'auth.forgot.codeRequired': 'è¯·è¾“å…¥ 6 ä½éªŒè¯ç ',
    'auth.forgot.resetFailed': 'é‡ç½®å¯†ç å¤±è´¥',
    'auth.forgot.sendFailed': 'å‘é€é‡ç½®ç å¤±è´¥',
    'auth.forgot.verifyInfo': 'é‡ç½®ç å·²å‘é€åˆ°',
    'auth.forgot.resetCode': 'é‡ç½®ç ',
    'auth.forgot.newPassword': 'æ–°å¯†ç ',
    'auth.forgot.confirmNewPassword': 'ç¡®è®¤æ–°å¯†ç ',
    'auth.forgot.reset': 'é‡ç½®å¯†ç ',
    'auth.forgot.changeEmail': 'æ›´æ¢é‚®ç®±',
    'chat.title': 'èŠå¤©',
    'chat.search': 'æœç´¢èŠå¤©...',
    'chat.loading': 'æ­£åœ¨åŠ è½½èŠå¤©...',
    'chat.empty': 'æš‚æ— èŠå¤©ï¼Œå¼€å§‹æ–°çš„å¯¹è¯å§ï¼',
    'chat.emptySearch': 'æ²¡æœ‰æ‰¾åˆ°èŠå¤©',
    'chat.clearConfirm': 'æ¸…ç©ºè¯¥èŠå¤©ï¼Ÿ\n\nè¿™ä¼šéšè—å†å²æ¶ˆæ¯ï¼Œæ–°æ¶ˆæ¯åˆ°æ¥æ—¶ä¼šé‡æ–°å‡ºç°ã€‚',
    'chat.clearFailed': 'æ¸…ç©ºèŠå¤©å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚',
    'chat.noMessages': 'è¿˜æ²¡æœ‰æ¶ˆæ¯ï¼Œæ‰“ä¸ªæ‹›å‘¼å§ï¼ğŸ‘‹',
    'chat.noMessagesShort': 'æš‚æ— æ¶ˆæ¯',
    'chat.you': 'ä½ ',
    'chat.online': 'åœ¨çº¿',
    'chat.offline': 'ç¦»çº¿',
    'chat.members': 'æˆå‘˜',
    'chat.renamePrompt': 'ç¾¤èŠåç§°',
    'chat.renameFailed': 'ä¿®æ”¹ç¾¤åå¤±è´¥ï¼Œè¯·é‡è¯•ã€‚',
    'chat.renameTitle': 'é‡å‘½åç¾¤èŠ',
    'chat.enter3d': 'è¿›å…¥ 3D æˆ¿é—´',
    'chat.exit3d': 'é€€å‡º 3D æˆ¿é—´',
    'chat.selectPrompt': 'è¯·é€‰æ‹©ä¸€ä¸ªèŠå¤©å¼€å§‹æ¶ˆæ¯',
    'chat.selectHint': 'æˆ–æ–°å»ºä¸€ä¸ªå¯¹è¯',
    'chat.sendFileFailed': 'å‘é€æ–‡ä»¶å¤±è´¥ï¼Œè¯·é‡è¯•ã€‚',
    'chat.command.available': 'å¯ç”¨å‘½ä»¤ï¼š',
    'chat.command.tip': "æç¤ºï¼šå‘½ä»¤å¿…é¡»ä»¥ '/' å¼€å¤´ã€‚",
    'chat.command.noActive': 'å½“å‰æ²¡æœ‰åœ¨çº¿ç”¨æˆ·ã€‚',
    'chat.command.usage': 'ç”¨æ³•',
    'chat.command.participants': 'å‚ä¸è€…',
    'chat.command.activeParticipants': 'åœ¨çº¿å‚ä¸è€…',
    'chat.command.desc.w': 'åˆ—å‡ºæœ¬èŠå¤©çš„çœŸå®å‚ä¸è€…ï¼ˆä¸å«å¨²ï¼‰',
    'chat.command.desc.wa': 'åˆ—å‡ºå½“å‰åœ¨çº¿çš„çœŸå®å‚ä¸è€…ï¼ˆä¸å«å¨²ï¼‰',
    'chat.command.desc.h': 'æŸ¥çœ‹å‘½ä»¤å¸®åŠ©',
    'chat.command.desc.b': 'å°†åç»­å†…å®¹å‘é€ä¸ºç²—ä½“',
    'chat.command.desc.i': 'å°†åç»­å†…å®¹å‘é€ä¸ºæ–œä½“',
    'chat.command.desc.r': 'å°†åç»­å†…å®¹å‘é€ä¸ºçº¢è‰²',
    'chat.command.exampleText': 'ä½ å¥½',
    'chat.command.usage.r': 'ç”¨æ³•ï¼š/r <æ–‡å­—>',
    'chat.command.usage.b': 'ç”¨æ³•ï¼š/b <æ–‡å­—>',
    'chat.command.usage.i': 'ç”¨æ³•ï¼š/i <æ–‡å­—>',
    'chat.typing': 'æ­£åœ¨è¾“å…¥...',
    'chat.attach': 'é™„ä»¶',
    'chat.typeMessage': 'è¾“å…¥æ¶ˆæ¯...',
    'chat.toggle3d': 'åˆ‡æ¢ 3D æˆ¿é—´',
    'chat.enter2d': 'è¿›å…¥ 2D è§†å›¾',
    'chat.exit2d': 'é€€å‡º 2D è§†å›¾',
    'chat.sidebarExpand': 'å±•å¼€',
    'chat.clear': 'æ¸…é™¤',
    'chat.new.title': 'æ–°èŠå¤©',
    'chat.new.start': 'å¼€å§‹èŠå¤©',
    'chat.new.creating': 'åˆ›å»ºä¸­...',
    'chat.message.deleted': 'è¯¥æ¶ˆæ¯å·²è¢«åˆ é™¤',
    'chat.message.download': 'ä¸‹è½½æ–‡ä»¶',
    'chat.message.image': 'å›¾ç‰‡',
    'chat.message.unread': 'æœªè¯»',
    'contacts.title': 'è”ç³»äºº',
    'contacts.friendRequests': 'å¥½å‹è¯·æ±‚',
    'contacts.noRequests': 'æš‚æ— å¾…å¤„ç†è¯·æ±‚ã€‚',
    'contacts.contacts': 'è”ç³»äºº',
    'contacts.noContacts': 'æš‚æ— è”ç³»äººã€‚',
    'contacts.discover': 'å‘ç°ç”¨æˆ·',
    'contacts.noUsers': 'æœªæ‰¾åˆ°ç”¨æˆ·ã€‚',
    'contacts.chat': 'èŠå¤©',
    'contacts.addFriend': 'æ·»åŠ å¥½å‹',
    'contacts.removeFriend': 'ç§»é™¤',
    'contacts.removeConfirm': 'ç§»é™¤è¯¥å¥½å‹ï¼Ÿ',
    'contacts.others': 'å…¶ä»–ç”¨æˆ·',
    'contacts.friend': 'å¥½å‹',
    'contacts.notFriend': 'éå¥½å‹',
    'contacts.accept': 'æ¥å—',
    'contacts.reject': 'æ‹’ç»',
    'contacts.online': 'åœ¨çº¿',
    'contacts.enable': 'å¯ç”¨',
    'contacts.disable': 'ç¦ç”¨',
    'contacts.deleteUser': 'åˆ é™¤',
    'contacts.disabled': 'å·²ç¦ç”¨',
    'contacts.deleteUserConfirm': 'åˆ é™¤ç”¨æˆ· {name}ï¼Ÿæ­¤æ“ä½œæ— æ³•æ’¤é”€ã€‚',
    'contacts.toggleDisableConfirm': '{action}ç”¨æˆ· {name}ï¼Ÿ',
    'chat.new.onlyFriendsDirect': 'åªèƒ½ä¸å¥½å‹å‘èµ·ç§èŠã€‚',
    'chat.new.alwaysAvailable': 'éšæ—¶å¯ç”¨',
    'moments.whatsOnMind': 'åœ¨æƒ³äº›ä»€ä¹ˆï¼Ÿ',
    'moments.mediaUrls': 'åª’ä½“é“¾æ¥ï¼ˆé€—å·åˆ†éš”ï¼‰',
    'moments.addImages': 'æ·»åŠ å›¾ç‰‡',
    'moments.imagesSelected': 'å·²é€‰æ‹©å›¾ç‰‡ï¼š',
    'moments.imagePreview': 'å›¾ç‰‡é¢„è§ˆ',
    'moments.image': 'åŠ¨æ€å›¾ç‰‡',
    'moments.post': 'å‘å¸ƒ',
    'moments.empty': 'æš‚æ— åŠ¨æ€ã€‚',
    'moments.loadFailed': 'åŠ è½½åŠ¨æ€å¤±è´¥',
    'moments.postFailed': 'å‘å¸ƒåŠ¨æ€å¤±è´¥',
    'moments.like': 'èµ',
    'moments.comment': 'è¯„è®º',
    'moments.addComment': 'æ·»åŠ è¯„è®º',
    'moments.send': 'å‘é€',
    'moments.delete': 'åˆ é™¤',
    'moments.deleteConfirm': 'åˆ é™¤è¿™æ¡åŠ¨æ€ï¼Ÿ',
    'moments.deleteFailed': 'åˆ é™¤åŠ¨æ€å¤±è´¥',
    'moments.likeFailed': 'æ›´æ–°ç‚¹èµå¤±è´¥',
    'moments.commentFailed': 'è¯„è®ºå¤±è´¥',
    'avatar.emotionTitle': 'è¡¨æƒ…å¤´åƒ',
    'avatar.promptHelp': 'æç¤ºè¯´æ˜',
    'avatar.promptHelpText': 'è¡¨æƒ…ï¼Œé«˜è´¨é‡ã€‚ä¿æŒåŸå§‹æ¯”ä¾‹ã€‚ä¸æ”¹å˜æ€§åˆ«ï¼›è‹¥ä¸ºå¥³æ€§ï¼Œè°ƒæ•´æœè£…ä¸ºæ›´ä¸°å¯Œçš„æ€§æ„Ÿå’Œé…è‰²å˜åŒ–ï¼Œå¹¶å¯å¸¦é€æ˜æ•ˆæœã€‚è‹¥ä¸ºåŠ¨ç‰©ï¼Œä¿æŒç‰©ç§ä¸å§¿åŠ¿ï¼Œä»…æ”¹å˜è¡¨æƒ…ã€‚è¾“å‡ºå›¾åƒéœ€ä¸è¾“å…¥é£æ ¼ä¸€è‡´ã€‚',
    'avatar.generateAll': 'ç”Ÿæˆ/æ›´æ–°å…¨éƒ¨',
    'avatar.generatingAll': 'ç”Ÿæˆä¸­...',
    'avatar.generateOne': 'ç”Ÿæˆ',
    'avatar.generatingOne': 'ç”Ÿæˆä¸­...',
    'avatar.extraPromptLabel': 'è¾“å…¥ä½ æƒ³è¦ä»€ä¹ˆé£æ ¼å’Œæ•ˆæœï¼ˆå¯é€‰ï¼‰',
    'avatar.extraPromptPlaceholder': 'è¾“å…¥ä½ æƒ³è¦ä»€ä¹ˆé£æ ¼å’Œæ•ˆæœï¼ˆå¯é€‰ï¼‰',
    'image.editPromptPlaceholder': 'è¾“å…¥ä½ æƒ³è¦ä»€ä¹ˆé£æ ¼å’Œæ•ˆæœ',
    'image.editAction': 'ç¾å›¾',
    'image.noEditsYet': 'æš‚æ— ç¾å›¾',
    'profile.title': 'ä¸ªäººèµ„æ–™',
    'profile.loadFailed': 'åŠ è½½èµ„æ–™å¤±è´¥',
    'profile.updateSuccess': 'èµ„æ–™æ›´æ–°æˆåŠŸ',
    'profile.updateFailed': 'æ›´æ–°èµ„æ–™å¤±è´¥',
    'profile.avatarUploaded': 'å¤´åƒå·²ä¸Šä¼ ï¼Œç‚¹å‡»ä¿å­˜åº”ç”¨ã€‚',
    'profile.uploadingAvatar': 'ä¸Šä¼ ä¸­...',
    'profile.uploadFailed': 'ä¸Šä¼ å¤´åƒå¤±è´¥',
    'profile.uploadAvatar': 'ä¸Šä¼ å¤´åƒ',
    'profile.removeAvatar': 'ç§»é™¤å¤´åƒ',
    'profile.zodiacSelected': 'å·²é€‰æ‹©ç”Ÿè‚–å¤´åƒï¼Œç‚¹å‡»ä¿å­˜åº”ç”¨ã€‚',
    'profile.displayName': 'æ˜µç§°',
    'profile.bio': 'ç®€ä»‹',
    'profile.gender': 'æ€§åˆ«',
    'profile.male': 'ç”·',
    'profile.female': 'å¥³',
    'profile.saveChanges': 'ä¿å­˜ä¿®æ”¹',
    'profile.zodiacTitle': 'é€‰æ‹©ç”Ÿè‚–å¤´åƒ',
    'chat.room.file': 'æ–‡ä»¶',
    'chat.room.image': 'å›¾ç‰‡',
    'chat.room.sayHi': 'æ‰“ä¸ªæ‹›å‘¼å§...',
    'chat.room.me': 'æˆ‘',
    'chat.room.friend': 'å¥½å‹',
    'chat.room.typing': '...',
    'time.justNow': '1 åˆ†é’Ÿå‰',
    'time.minute': 'åˆ†é’Ÿå‰',
    'time.hour': 'å°æ—¶å‰',
    'time.day': 'å¤©å‰',
    'time.week': 'å‘¨å‰',
    'time.year': 'å¹´å‰',
  },
};

interface LanguageContextValue {
  language: Language;
  toggleLanguage: () => void;
  t: (key: string) => string;
}

const LanguageContext = createContext<LanguageContextValue | undefined>(undefined);

export const LanguageProvider: React.FC<{ children: React.ReactNode }> = ({ children }) => {
  const [language, setLanguage] = useState<Language>(
    (localStorage.getItem('language') as Language) || 'zh'
  );

  const toggleLanguage = () => {
    const next = language === 'en' ? 'zh' : 'en';
    setLanguage(next);
    localStorage.setItem('language', next);
  };

  const value = useMemo(
    () => ({
      language,
      toggleLanguage,
      t: (key: string) => translations[language][key] || key,
    }),
    [language]
  );

  return <LanguageContext.Provider value={value}>{children}</LanguageContext.Provider>;
};

export const useLanguage = () => {
  const ctx = useContext(LanguageContext);
  if (!ctx) {
    throw new Error('useLanguage must be used within LanguageProvider');
  }
  return ctx;
};
